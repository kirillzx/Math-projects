\documentclass[12pt]{article}
 \usepackage[margin=1in]{geometry}
\usepackage{amsmath, amsthm, amssymb, amsfonts, enumitem, fancyhdr, color, comment, graphicx, environ, fancyhdr}
\pagestyle{fancy}
\usepackage{cmap}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, russian]{babel}
\usepackage{caption}
\usepackage{indentfirst}
% \usepackage{hyperref}

% \usepackage{color} \definecolor{darkgreen}{rgb}{0,0,0}
% \usepackage[unicode,colorlinks,filecolor=blue,citecolor=darkgreen,pagebackref]{hyperref}

\newtheorem*{exersize}{Упражнение}
\newtheorem*{lemma}{Lemma}
\newtheorem{theorem}{Теорема}[section]
\newtheorem*{consequence}{Следствие}
\newtheorem*{statement}{Statement}
\newtheorem{property}{Свойство}
\newtheorem*{fact}{Fact}

\theoremstyle{definition}
\newtheorem{definition}{Определение}[section]
\newtheorem*{problem}{Problem}
\newtheorem*{example}{Example}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\setlength{\parindent}{5ex}
\setlength{\headheight}{35pt}
%
% \lhead{Mathematical modeling}
% \rhead{Kirill Zakharov}

\title{Математическое моделирование}
\author{Лектор: Лебедева Л.Н.\\Студент: Захаров К.А.}
\date{2020 г.}

\begin{document}
\maketitle
Все реализации моделей на моем github: \textit{https://github.com/kirillzx/Math-projects}
\tableofcontents

\section{Введение}
\textbf{Модель} - образ или прообраз какого-либо объекта или системы объектов, используемый в качестве их "заместителя".

\textbf{Математическая модель} - описание объекта исследования на языке математики.\\
Требования к модели:
\begin{itemize}
  \item адекватность
  \item конечность
  \item полнота(информированность)
  \item упрощенность
  \item гибкость
  \item приемлемая трудоемкость разработки
\end{itemize}
Этапы построения модели:
\begin{enumerate}
  \item определение цели;
  \item изучение предметной области, выявление причинно-следственных связей;
  \item переход от концептуальной модели к формализованному описанию;
  \item проверка адекватности моделирование;
  \item корректировка модели;
  \item применение модели. Проведение исследования и практическое использование.
\end{enumerate}
Классификация моделей:
\begin{itemize}
  \item линейные или нелинейные;
  \item сосредоточенные и распределенные системы;
  \item детерминированные или стохастические;
  \item статические или динамические;
  \item дискретные или непрерывные.
\end{itemize}

\input{static_models.tex}
\input{dynamic_models.tex}
\input{dynamic_models_2.tex}

\section{Оптимизационные модели}
\subsection{Задача о производстве мебели}

\textbf{Условие}

Есть $N$ типов $A_i$ продукции, $M$ операций $B_j$ для производства продукции, $c_i$ -- прибыль за единицу $i$-той произведенной продукции, $a_{ij}$ -- количество времени, необходимого на операцию $j$ при производстве продукции $i$. $b_j$ -- ограничение на количество времени по каждой операции.

\textbf{Решение}
\begin{center}
    \begin{tabular}{ |c|c|c|c|c|c|c|}
         \hline
               & $B_1$   & $B_2$   & ...     & $B_M$   & Прибыль & Количество \\
         \hline
         $A_1$ & $a_{11}$& $a_{12}$& ...     & $a_{1M}$& $p_1$   & $x_1$      \\
         $A_2$ & $a_{21}$& $a_{22}$& ...     & $a_{2M}$& $p_2$   & $x_2$      \\
         ...   & ...     & ...     & ...     & ...     & ...     & ...        \\
         $A_N$ & $a_{N1}$& $a_{N2}$& ...     & $a_{NM}$& $p_N$   & $x_N$      \\
         \hline
         Огр   & $b_1$   & $b_2$   & ...     & $b_M$   &         &            \\
         \hline
    \end{tabular}
\end{center}

$\forall i: x_i \geqslant 0, \; x_i \in \mathbb{Z}$ -- количество произведенной продукции каждого типа
$$f(X) = p_1 x_1 + p_2 x_2 + ... + p_N x_N \rightarrow \max$$
$$a_{11} x_1 + a_{21} x_2 + ... + a_{N1} x_N \leqslant b_1$$
$$a_{1j} x_1 + a_{2j} x_2 + ... + b_{Nj} x_N \leqslant b_j$$
$$a_{1M} x_1 + a_{2M} x_2 + ... + b_{NM} x_N \leqslant b_M$$

$$\begin{cases}
    f(X) = \sum_{i=1}^N p_i x_i \rightarrow \max \\
    \sum_{i=1}^N a_{ij} x_i \leqslant b_j \\
    \forall i: x_i \geqslant 0, \; x_i \in \mathbb{Z}
\end{cases}$$

В данной конкретной задаче математическая модель выглядит следующим образом:
$$\begin{cases}
    f(X) = 16 x_1 + 30 x_2 + 40 x_3 + 42 x_4 + 32 x_5 \rightarrow \max \\
    8 x_1 + 6 x_2 + 9 x_3 + 9 x_4 + 12 x_5 \leqslant 320 \\
    12 x_1 + 10 x_2 + 15 x_3 + 12 x_4 + 8 x_5 \leqslant 400 \\
    4 x_1 + 3 x_2 + 5 x_3 + 4 x_4 + 4 x_5 \leqslant 270 \\
    \forall i: x_i \geqslant 0, \; x_i \in \mathbb{Z}
\end{cases}$$

\subsection*{a}
Какая комбинация изделий должна быть произведена в это время, чтобы максимизировать прибыль? Какой будет общая прибыль?
Для решения этой задачи был использован Excel.

\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.45]{images/furniture1.png}\\
Рисунок 52 - Пункт $a$
\end{tabular}
\end{center}

Общая прибыль равна 1408 единицам.

\subsection*{b}
Выгодно ли производить все изделия? Если имеется изделие, которое не выгодно производить, что нужно изменить, чтобы его производство стало выгодным?

Не все изделия выгодно производить. Например, изделия <<Стул>>, <<Стол>> и <<Бюро>> в оптимальном плане не производятся вообще. Это значит, что их производство невыгодно. Чтобы их производство стало выгодным, необходимо, к примеру, увеличить их стоимость или изменить технологию производства. Например, уменьшив время на шлифовку изделия <<Бюро>> на четыре единицы, получаем увеличение целевой функции на 24 единицы, а также изделие <<Бюро>> становится наиболее выгодным для производства.

\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.45]{images/furniture5.png}\\
Рисунок 53 - Пункт $b$
\end{tabular}
\end{center}
\subsection*{c}
Можно ли изменить что-то в технологии или в ценах так, чтобы все изделия стали выгодными? Исследуйте это. Опишите результаты.

Чтобы их производство всех изделий стало выгодным, необходимо, к примеру, увеличить их стоимость. Чтобы понять, на сколько надо увеличить стоимость изделий, проведем анализ чувствительности с помощью Excel.

\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.45]{images/furniture3.png}\\
Рисунок 54 - Пункт $c$
\end{tabular}
\end{center}

Reduced Cost (<<Приведенная цена>> в русифицированной версии Excel) показывает, на сколько нужно увеличить стоимость изделий, чтобы они вошли в оптимальный план. Если увеличить стоимость невыгодных изделий, то получим следующий результат:

\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.45]{images/furniture4.png}\\
Рисунок 55 - Пункт $c$
\end{tabular}
\end{center}

Практически все изделия стало выгодно производить. Общая прибыль увеличилась на пять единиц.
\subsection*{d}
Допустим, что Вы можете установить 100 сверхурочных минут, но для только одной из основных операций? На какую операцию стоит выделить это время? Сколько при этом получится прибыли? Подтвердите все ваши ответы вычислениями.

Если посмотреть на решение пункта $a$, то можно увидеть, что для всех операций осталось свободное время, кроме шлифовки. Таким образом, добавив время к обрезке или сборке, мы не увеличим количество произведенной продукции, так как для шлифовки не будет хватать времени. Стоит выделить сверхурочное время для шлифовки. Также из решения пункта $c$ видно, что Shadow price (<<теневая цена>>) для шлифовки наибольшая. То есть доход больше всего увеличится при увеличении времени на шлифовку. Для решения этой задачи был использован Excel.

\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.45]{images/furniture2.png}\\
Рисунок 56 - Пункт $d$
\end{tabular}
\end{center}

При установлении 100 сверхурочных минут к шлифовке общая прибыль увеличилась на 152 единицы.

\subsection{Задача о назначениях}
\textbf{Условие}

Необходимо составить 6 пар-команд для выполнения некоторой работы. Индекс совместности варьируется от 20 (выраженная враждебность) до 1 (дружеские отношения) и представлен в таблице 1 на рисунке 57. Необходимо составить команды, минимизировав суммарную совместность. Какой минимально возможный для всех пар индекс совместимости можно обеспечить и как при этом изменится суммарная совместимость.

\textbf{Решение}

Для решения данной задачи также воспользуемся в $Excel$ поиском решения. Чтобы просто составить пары-команды, необходимо задать ограничения на сумму по столбцами и строкам равную 1, так как один человек может образовать пару только с одним другим человеком. Также надо указать, что работаем с бинарными переменными. Целевая функция для данной задачи это сумма произведения элементов матрицы совместности на элементы матрицы назначений. Решение представлено в таблице 2 на рисунке 57.\\

Чтобы ответить на второй вопрос какой минимальный индекс совместности можно выбрать, надо дополнительно вручную задавать ограничения на максимальный индекс совместности при выборе пар. Таким индексом здесь является 6. При выборе меньшего индекса уменьшается значение целевой функции, а следовательно, такое решение брать не оптимально.
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/assign.png}\\
Рисунок 57 - Задача о назначениях
\end{tabular}
\end{center}

\subsection{Задача про аудиторов}

\textbf{Условие}

Менеджер аудиторской фирмы должен распределить
аудиторов для работы на следующий месяц. Аудиторы
различаются по квалификации и опыту работы. Прежде чем
приступить к аудиту конкретной фирмы они должны затратить
определенное время на подготовку и консультации. В данный
момент имеются заявки от 10 клиентов. Менеджер – координатор,
учитывая опыт работ аудиторов каждой конторы, оценил время,
необходимое «среднему» аудитора каждой конторы для подготовки
к аудиту конкретного клиента

\textbf{Решение}

Целевой функцией в этой задаче также является сумма произведений элементов двух таблиц. Целевая функция минимизируется. Также необходимы ограничения, которые позволяют распределить всех сотрудников без остатка, то есть сумма по столбцам и строкам новой таблицы минус заявки и число сотрудников соответственно из исходной таблицы с данными (рис. 58). Там где имеются пропуски, чтобы не рассматривать данные ячейки поставим большие значения, так как функция минимизируется.
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/audit (1).png}\\
Рисунок 58 - Задача про аудиторов п.1
\end{tabular}
\end{center}

Решение пункта два аналогично, только теперь для столбцов не будем вычитать данные исходной таблицы, а найдем решение только для ограничений по строкам. Далее будем вычитать поочередно из каждого элемента столбца получившеюся сумму всего столбца, тем самым получим вариации для распределения аудиторов (рис. 59).
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/audit (2).png}\\
Рисунок 59 - Задача про аудиторов п.2
\end{tabular}
\end{center}

\subsection{Модель потребительского выбора}
В общем случае постановка задачи выглядит следующим образом.
\begin{equation}
  \begin{cases}
u(x_1,...,x_n)\to\max\\
\sum_{i=1}^np_ix_i\leq I\\
x_i\geq 0
  \end{cases}
\end{equation}
\subsubsection{Модель Стоуна}
\begin{equation}
  u=\prod_{i=1}^n(x_i-\alpha_i)^{\beta_i}\to\max
\end{equation}
где $\alpha_i\leqslant 0, x_i\leqslant \alpha_i$,$0<\beta_i<1$ - степень важности благ.
Составив функцию Лагранжа и выполнив несложные преобразования получим следующее выражение.
\begin{equation}
x_k=\alpha_k+\dfrac{1}{p_k}\dfrac{(I-\sum_i\alpha_i p_i)\beta_k}{\sum_i\beta_i}
\end{equation}
\subsubsection{Функция Кобба-Дугласа}
При выборе в качестве функции полезности функцию Кобба-Дугласа построим изокванты и линию "доход-потребление". Для этого решим несколько оптимизационных задач при разных уровнях дохода $I$. Из решения получим оптимальное значение функции полезности и далее рассчитаем координаты $(x_1,x_2)$ при помощи следующих формул (рис. 60).
\begin{equation}
  x_2=\bigg(\dfrac{u}{Ax_1^{\alpha}}\bigg)^{1/\beta}
\end{equation}
\begin{equation}
  x_2=\dfrac{I-x_1p_1}{p_2}
\end{equation}
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/consumer_choice_1.png}\\
Рисунок 60 - Расчет точек графика
\end{tabular}
\end{center}

Таким образом получим набор точек для бюджетных линий и для изоквант (рис. 61).
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/cons_ch.png}\\
Рисунок 61 - Изокванты
\end{tabular}
\end{center}
\subsection{Задача о назначениях бригад}
\textbf{Условие}

Для выполнения срочного заказа мастер должен набрать из 14 рабочих $(P_1, P_2,...,P_14)$
бригаду в 5 человек. Среднее время, которое каждый из 14 рабочих тратит на ту или
иную операцию $(P_1, P_2,...,P_5)$, требующуюся для выполнения заказа, дано в таблице.
Размер заказа равен 100 единицам, так что каждая операция будет выполнена 100 раз.
\begin{enumerate}
  \item[a.] Определите оптимальное распределение рабочих по операциям. Рассчитайте
количество рабочего времени, требующегося на выполнение заказа. Можно ли при
этом выполнить заказ за 10 рабочих дней? (Считайте, что рабочая смена равна 8
часам);
  \item[b.] Помогите мастеру набрать запасную бригаду из 5 человек, на случай, если заказ
будет удвоен, а время на выполнение останется практически прежним. Представьте
списки бригад. Рассчитайте количество рабочего времени, требующегося на
выполнение удвоенного заказа в сложившихся обстоятельствах;
  \item[c.] Что следует сделать, чтобы набрать две как можно более равные по силам
бригады? Представьте списки новых бригад.
\end{enumerate}

\textbf{Решение}

Информация о времени работы каждого рабочего представлена в таблице 1 на рисунке 62. Поскольку необходимо выбрать 5 человек, то данная задача является не сбалансированной и удобно добавить еще один столбец где будут все рабочие, которых не выбрали (они выполняют другую операцию). По столбцам и строкам сумма элементов должна равняться 1, так как данная задача о назначениях, а для столбца с операцией 6, ограничение равно числу не выбранных рабочих, то есть 9. Добавим еще столбец, где будет подсчитываться время работы одно рабочего в днях, то есть умножаем часы на 100 операций и делим на 60. Запускаем поиск решения и получаем, что максимально долгий рабочий работает за 9 дней, а значит за 10 они успеют. Полное рабочее время составляет $366.6$.
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/assign_2 (2).png}\\
Рисунок 62 - Задача о бригадах п.a
\end{tabular}
\end{center}

Для второго пункта уберем тех рабочих, которых выбрали в первом пункте и проделаем те же самые действия. Получим результат на рисунке 63. Видно, что максимально долгий рабочий выполняет 100 операций за 11 дней, а значит они за 10 не успеют. Если заказ удвоят, то будут работать две бригады одновременно, а значит это время составит $(366+416)/10/8=9.7$. То есть при удвоении заказы две бригады успеют за 10 дней.
\begin{center}
  \begin{tabular}{c}
\includegraphics[scale=0.5]{images/assign_2 (1).png}\\
Рисунок 63 - Задача о бригадах п.b
\end{tabular}
\end{center}

Для пункта c, необходимо решить задачу с самого начало с учетом выбора 10 человек, либо из имеющихся бригад, например, перекинуть долго работающих за 11 дней из второй в первую, вместо работающих за 8 дней.
\end{document}
